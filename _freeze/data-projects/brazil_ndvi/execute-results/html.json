{
  "hash": "6b1bec488d33826bc7352a66a8a30421",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"NDVI averages for Brazilian municipalities\"\nbibliography: references.bib\n---\n\n![](images/ndvi.png)\n\n## Introduction\n\nThe Normalized Difference Vegetation Index (NDVI) is a indicator that quantifies vegetation cover and health by measuring the difference between near-infrared (strongly reflected by healthy plants) and red light (absorbed by chlorophyll). Its has the ability to capture environmental conditions that influence disease dynamics, nutrition, and overall well-being. For example, NDVI helps identify areas at risk of vector-borne diseases such as malaria, dengue, and leishmaniasis, since vegetation cover and humidity create favorable habitats for vectors like mosquitoes and sandflies. NDVI also supports urban health research by assessing the distribution of green spaces, which are linked to reduced air pollution exposure, better mental health, and mitigation of heat stress.\n\nI created this dataset with NDVI averages for Brazilian municipalities using a zonal statistics procedure with data available from the [Copernicus Land Monitoring Service](land.copernicus.eu/).\n\n## Source data\n\nThe following source data were used.\n\n-   From January 1, 1999 to December 31, 2019, raster data with 1km spatial resolution was used ([NDVI 1999-2020 (raster 1 km), global, 10-daily – version 3](https://land.copernicus.eu/en/products/vegetation/normalised-difference-vegetation-index-v3-0-1km)).\n\n-   From January 1, 2020 to June 30, 2020, raster data with 300m spatial resolution was used ([NDVI 2014-2020 (raster 300 m), global, 10-daily – version 1](https://land.copernicus.eu/en/products/vegetation/normalized-difference-vegetation-index-300m-v1.0)).\n\n-   From July 1, 2020, raster data with 300m spatial resolution was used ([NDVI 2020-present (raster 300 m), global, 10-daily – version 2](https://land.copernicus.eu/en/products/vegetation/normalised-difference-vegetation-index-v2-0-300m)).\n\n## Methods\n\nFirst, the available data for each month was averaged, generating monthly NDVI files. Then, for each month, the following zonal statistics were computed for each Brazilian municipality: mean, maximum value, minimum value, standard variation.\n\nThe R scripts for download, processing and export data are available [here](https://github.com/rfsaldanha/landdata).\n\n## Download\n\n1999-2024: [![](https://img.shields.io/badge/download-10.5281/zenodo.17093199-green.svg)](https://doi.org/10.5281/zenodo.17093199)\n\n2025: [![](https://img.shields.io/badge/download-10.5281/zenodo.18329383-green.svg)](https://doi.org/10.5281/zenodo.18329383)\n\n## Data example\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(zendown)\nlibrary(arrow)\nlibrary(ggplot2)\n\nzen_file(deposit_id = 17093199, file_name = \"ndvi_mean.parquet\") |>\n  open_dataset() |>\n  filter(code_muni == 2510808) |>\n  collect() |>\n  ggplot(aes(x = date, y = value)) +\n  geom_line() +\n  ylim(0, 1) +\n  labs(title = \"Monthly average NDVI\", subtitle = \"Patos, PB\") +\n  theme_bw()\n```\n\n::: {.cell-output-display}\n![](brazil_ndvi_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n\n```{.r .cell-code}\nzen_file(deposit_id = 18329383, file_name = \"ndvi_mean.parquet\") |>\n  open_dataset() |>\n  filter(code_muni == 2312908) |>\n  collect() |>\n  ggplot(aes(x = date, y = value)) +\n  geom_line() +\n  ylim(0, 1) +\n  labs(title = \"Monthly average NDVI\", subtitle = \"Sobral, CE\") +\n  theme_bw()\n```\n\n::: {.cell-output-display}\n![](brazil_ndvi_files/figure-html/unnamed-chunk-1-2.png){width=672}\n:::\n:::\n\n\n## Session info\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessioninfo::session_info()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.3.3 (2024-02-29)\n os       Ubuntu 24.04.3 LTS\n system   x86_64, linux-gnu\n ui       X11\n language (EN)\n collate  en_US.UTF-8\n ctype    pt_BR.UTF-8\n tz       America/Sao_Paulo\n date     2026-01-21\n pandoc   3.6.3 @ /usr/share/positron/resources/app/quarto/bin/tools/x86_64/ (via rmarkdown)\n quarto   1.8.26 @ /opt/quarto/bin/quarto\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package      * version  date (UTC) lib source\n arrow        * 22.0.0.1 2025-12-23 [1] CRAN (R 4.3.3)\n assertthat     0.2.1    2019-03-21 [1] CRAN (R 4.3.3)\n backports      1.5.0    2024-05-23 [1] CRAN (R 4.3.3)\n bit            4.6.0    2025-03-06 [1] CRAN (R 4.3.3)\n bit64          4.6.0-1  2025-01-16 [1] CRAN (R 4.3.3)\n checkmate      2.3.3    2025-08-18 [1] CRAN (R 4.3.3)\n cli            3.6.5    2025-04-23 [1] CRAN (R 4.3.3)\n dichromat      2.0-0.1  2022-05-02 [1] CRAN (R 4.3.3)\n digest         0.6.39   2025-11-19 [1] CRAN (R 4.3.3)\n dplyr        * 1.1.4    2023-11-17 [1] CRAN (R 4.3.3)\n evaluate       1.0.5    2025-08-27 [1] CRAN (R 4.3.3)\n farver         2.1.2    2024-05-13 [1] CRAN (R 4.3.3)\n fastmap        1.2.0    2024-05-15 [1] CRAN (R 4.3.3)\n fs             1.6.6    2025-04-12 [1] CRAN (R 4.3.3)\n generics       0.1.4    2025-05-09 [1] CRAN (R 4.3.3)\n ggplot2      * 4.0.1    2025-11-14 [1] CRAN (R 4.3.3)\n glue           1.8.0    2024-09-30 [1] CRAN (R 4.3.3)\n gtable         0.3.6    2024-10-25 [1] CRAN (R 4.3.3)\n htmltools      0.5.9    2025-12-04 [1] CRAN (R 4.3.3)\n htmlwidgets    1.6.4    2023-12-06 [1] CRAN (R 4.3.3)\n jsonlite       2.0.0    2025-03-27 [1] CRAN (R 4.3.3)\n knitr          1.51     2025-12-20 [1] CRAN (R 4.3.3)\n labeling       0.4.3    2023-08-29 [1] CRAN (R 4.3.3)\n lifecycle      1.0.5    2026-01-08 [1] CRAN (R 4.3.3)\n magrittr       2.0.4    2025-09-12 [1] CRAN (R 4.3.3)\n otel           0.2.0    2025-08-29 [1] CRAN (R 4.3.3)\n pillar         1.11.1   2025-09-17 [1] CRAN (R 4.3.3)\n pkgconfig      2.0.3    2019-09-22 [1] CRAN (R 4.3.3)\n purrr          1.2.1    2026-01-09 [1] CRAN (R 4.3.3)\n R6             2.6.1    2025-02-15 [1] CRAN (R 4.3.3)\n RColorBrewer   1.1-3    2022-04-03 [1] CRAN (R 4.3.3)\n rlang          1.1.7    2026-01-09 [1] CRAN (R 4.3.3)\n rmarkdown      2.30     2025-09-28 [1] CRAN (R 4.3.3)\n S7             0.2.1    2025-11-14 [1] CRAN (R 4.3.3)\n scales         1.4.0    2025-04-24 [1] CRAN (R 4.3.3)\n sessioninfo    1.2.3    2025-02-05 [1] CRAN (R 4.3.3)\n tibble         3.3.1    2026-01-11 [1] CRAN (R 4.3.3)\n tidyselect     1.2.1    2024-03-11 [1] CRAN (R 4.3.3)\n vctrs          0.7.0    2026-01-16 [1] CRAN (R 4.3.3)\n withr          3.0.2    2024-10-28 [1] CRAN (R 4.3.3)\n xfun           0.56     2026-01-18 [1] CRAN (R 4.3.3)\n yaml           2.3.12   2025-12-10 [1] CRAN (R 4.3.3)\n zendown      * 0.1.0    2024-05-21 [1] CRAN (R 4.3.3)\n\n [1] /home/raphaelsaldanha/R/x86_64-pc-linux-gnu-library/4.3\n [2] /usr/local/lib/R/site-library\n [3] /usr/lib/R/site-library\n [4] /usr/lib/R/library\n * ── Packages attached to the search path.\n\n──────────────────────────────────────────────────────────────────────────────\n```\n\n\n:::\n:::\n",
    "supporting": [
      "brazil_ndvi_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}